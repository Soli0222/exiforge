# Picture Arrange

このGoプログラムは、写真のEXIF日付情報を抽出し、撮影日ごとにフォルダに整理します。JPGやDNGなど、さまざまなファイル形式に対応しており、指定したディレクトリ内のすべてのファイルを処理することができます。

## 特徴

- 写真のEXIFデータから日付情報を抽出
- 写真を日付ごとのフォルダに整理
- 複数のファイル拡張子に対応（例: JPG, DNG, PNG）
- 進捗バーで処理状況を表示

たとえば、整理前のフォルダが以下のようになっているとします。

```
/photos
    ├── IMG_0001.JPG //2024-08-30
    ├── IMG_0001.DNG //2024-08-30
    ├── IMG_0002.JPG //2024-08-30
    ├── IMG_0002.DNG //2024-08-30
    ├── IMG_0003.JPG //2024-09-01
    ├── IMG_0003.DNG //2024-09-01
    ├── DSC_1234.DNG //2024-08-31
    └── vacation_2024.JPG //2024-08-30
```
これに対して、以下のようなコマンドを使うと、このように整理されます。
```bash
./picture-arrange -dir="/photos"
```
```
/photos
    ├── JPG
    │   ├── 2024-08-30
    │   │   ├── IMG_0001.JPG
    │   │   ├── IMG_0002.JPG
    │   │   └── vacation_2024.JPG
    │   └── 2024-09-01
    │       └── IMG_0003.JPG
    └── DNG
        ├── 2024-08-30
        │   ├── IMG_0001.DNG
        │   └── IMG_0002.DNG
        ├── 2024-08-31
        │   └── DSC_1234.DNG
        └── 2024-09-01
            └── IMG_0003.DNG
```

## インストール

ビルドされたバイナリを使用することで、ソースコードをビルドせずにプログラムを実行できます。

1. [リリースページ](https://github.com/Soli0222/picture-arrange/releases)からお使いのOSに対応した最新バイナリをダウンロードします。
2. ダウンロードしたバイナリを展開し、実行可能にします（必要に応じて権限を変更）。

   ```bash
   chmod +x picture-arrange
   ```

3. パスの通ったディレクトリに移動するか、直接コマンドとして使用します。

## 使用方法

ダウンロードしたバイナリをコマンドラインから以下のオプションを指定して実行します:

- `-ext`: 処理するファイル拡張子をカンマ区切りで指定します（デフォルトは `JPG,DNG`）。
- `-dir`: 処理するディレクトリを指定します（デフォルトはカレントディレクトリ）。

### 使用例

1. **デフォルトの拡張子でカレントディレクトリ内の写真を整理する:**

   ```bash
   ./picture-arrange
   ```

2. **特定のディレクトリ内の写真を整理し、PNGファイルを処理する:**

   ```bash
   ./picture-arrange -dir="/path/to/photos" -ext="PNG"
   ```

3. **カレントディレクトリ内のJPGとPNGファイルを整理する:**

   ```bash
   ./picture-arrange -ext="JPG,PNG"
   ```

## 動作概要

1. プログラムは指定したディレクトリ内で、指定された拡張子に一致するファイルをスキャンします。
2. 各ファイルのEXIFメタデータからオリジナルの日付を抽出します。
3. ファイルは日付ごとのフォルダ（例: `2024-08-31`）に移動されます。
4. 進捗バーで処理状況が表示されます。

## 依存関係

このプロジェクトでは以下のGoパッケージを使用しています:

- [`github.com/rwcarlsen/goexif/exif`](https://pkg.go.dev/github.com/rwcarlsen/goexif) - 画像ファイルのEXIFメタデータを読み取るためのライブラリ
- [`github.com/schollz/progressbar/v3`](https://pkg.go.dev/github.com/schollz/progressbar/v3) - ファイル処理中に進捗バーを表示するためのライブラリ

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。詳細については [LICENSE](https://github.com/Soli0222/picture-arrange/LICENSE) ファイルをご覧ください。
